{% extends "base.html" %}
{% block content %}
<section class="panel" aria-labelledby="ingest-heading">
    <div class="panel-header">
        <h2 id="ingest-heading">Request Model Ingestion</h2>
        <p>Submit a public HuggingFace model for review. Scores must be â‰¥ 0.5.</p>
    </div>
    <form id="ingest-form" novalidate aria-describedby="ingest-desc">
        <p id="ingest-desc" class="form-help">
            Provide a summary for reviewers and the scores exported from the CLI.
        </p>
        <fieldset>
            <legend>Model Details</legend>
            <label for="model-name">Model name</label>
            <input id="model-name" name="name" type="text" required placeholder="e.g. openai/whisper-tiny">

            <label for="model-url">HuggingFace URL</label>
            <input id="model-url" name="source_url" type="url" inputmode="url" required placeholder="https://huggingface.co/...">

            <label for="submitted-by">Submitted by</label>
            <input id="submitted-by" name="submitted_by" type="text" placeholder="Your ACME username">
        </fieldset>

        <fieldset>
            <legend>CLI Evaluation Results</legend>
            <p class="form-help">
                Paste the NDJSON line(s) emitted by the CLI after running your evaluation.
                We will auto-populate all metric scores and latencies from that output.
            </p>
            <label for="cli-results">CLI output</label>
            <textarea id="cli-results" name="cli_results" rows="6" required placeholder='{"name":"my-model","net_score":0.92,...}'></textarea>
            <p id="cli-preview" class="form-help" aria-live="polite"></p>
        </fieldset>

        <button type="submit">Submit request</button>
        <p id="ingest-status" role="status" aria-live="polite" class="status-message" hidden></p>
    </form>
</section>
{% endblock %}
